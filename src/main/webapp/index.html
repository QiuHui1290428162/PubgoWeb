<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="keywords" content="">
	<meta name="author" content="">
	<meta name="robots" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- 此处为页面标题 -->
	<title>PUBGO步步高鞋</title>
	
	<!-- 引入图标文件 -->
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
    
    <!-- 引入vant样式文件 -->
	<link
	  rel="stylesheet"
	  href="./assets/vant/index.css"
	/>
    
	<link href="static/css/nice-select.css" rel="stylesheet">
	<link href="static/css/owl.carousel.css" rel="stylesheet">
	
	<!-- Style css -->
    <link href="static/css/style.css" rel="stylesheet">
    
	<style type="text/css">
		.header-profile img{
			width: 2.5rem;
			height: 2.5rem;
		}
	</style>
	
</head>
<body>

    <!--*******************
     	   预加载程序启动
    ********************-->
    <div id="preloader">
		<div class="lds-ripple">
			<div></div>
			<div></div>
		</div>
    </div>
    <!--*******************
       	 预紧器端
    ********************-->

    <!--**********************************
       	主包装器开始
    ***********************************-->
    <div id="main-wrapper">
        <!--**********************************
           	导航标头开始
        ***********************************-->
        <div class="nav-header">
            <a href="" class="brand-logo">
				
				<img src="./static/image/logo_index.jpg" alt="首页"  width="48" height="20"/>
				
				<svg class="brand-title" xmlns="http://www.w3.org/2000/svg" width="134.01" height="48.365" viewbox="0 0 134.01 48.365">
				  <g id="Group_38" data-name="Group 38" transform="translate(-133.99 -40.635)">
					<text id="Job_Admin_Dashboard" data-name="Job Admin Dashboard" transform="translate(134 85)" fill="#787878" font-size="12" font-family="Poppins-Light, Poppins" font-weight="300"><tspan x="0" y="0">香港步步高国际集团</tspan></text>
					<text id="Job_Admin_Dashboard" data-name="Job Admin Dashboard" transform="translate(134 63)" fill="#000000" font-size="17" font-family="Poppins-Light, Poppins" font-weight="300"><tspan x="0" y="0">PUBGO步步高鞋</tspan></text>
					
				  </g>
				</svg>
            </a>
            <!-- 侧边栏显示组件 -->
            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>
        <!--**********************************
         	 导航标头结束
        ***********************************-->
		
		
		
		<!--**********************************
           	页头开始
        ***********************************-->
        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                    	<!-- 设置页面名称 -->
                        <div class="header-left">
							<div class="dashboard_bar">
                               	工作台
                            </div>
                        </div>
                        <ul class="navbar-nav header-right">
							<li class="nav-item dropdown header-profile">
                                <a class="nav-link" href="javascript:void(0);" role="button" data-bs-toggle="dropdown">
                                   	 <img alt="员工管理" src="static/image/员工.svg" >
                                </a>
                                <!--  -->
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a href="./index.html" class="dropdown-item ai-icon">
                                        <svg id="icon-user2" xmlns="http://www.w3.org/2000/svg" class="text-primary" width="18" height="18" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                        <span class="ms-2">个人中心 </span>
                                    </a>
                                    <a href="http://www.pubgobbg.com:8282/pda/" class="dropdown-item ai-icon">
                                        <svg id="icon-inbox1" xmlns="http://www.w3.org/2000/svg" class="text-success" width="18" height="18" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                                        <span class="ms-2">OA邮箱 </span>
                                    </a>
                                    <a href="./login.html" class="dropdown-item ai-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="text-danger" width="18" height="18" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                        <span class="ms-2">退出登录 </span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
				</nav>
			</div>
		</div>
        <!--**********************************
           	页头结束
        ***********************************-->

        <!--**********************************
           	侧边栏开始
        ***********************************-->
        <div class="dlabnav">
            <div class="dlabnav-scroll">
				<div class="dropdown header-profile2 ">
					<a class="nav-link " href="javascript:void(0);" role="button" data-bs-toggle="dropdown">
						<div class="header-info2 d-flex align-items-center">
							<img src="./static/image/people.svg" width="20"  alt="">
							<div class="d-flex align-items-center sidebar-info">
								<div>
									<span class="font-w400 d-block">ID : {{id}}</span>
									<small class="text-end font-w400">NAME : {{name}}</small>
								</div>	
							</div>
						</div>
					</a>
				</div>
				<ul class="metismenu" id="menu">
					<template v-for="(x, i) in categoryList">
	                    <li><a class="has-arrow " href="javascript:void(0);" aria-expanded="false">
								<i :class="x.image"></i>
								<span class="nav-text">{{x.name}}</span>
							</a>
	                        <ul aria-expanded="false">
	                        	<template v-for="(y, j) in x.categorys">
									<li><a :href="y.path">{{y.name}}</a></li>
								</template>	
							</ul>
	                    </li>
                    </template>	
                </ul>
				<div class="plus-box">
					<p class="fs-14 font-w600 mb-2">Pubgo mobile ERP management system<br></p>
				</div>
				<div class="copyright">
					<p><strong>PUBGO Job Admin</strong> © 2021 All Rights Reserved</p>
					<p class="fs-12"> Made with<span class="heart"></span> by pubgo</p>
				</div>
			</div>
        </div>
        <!--**********************************
           	侧边栏结束
        ***********************************-->
		
		<!--**********************************
            	内容正文开始
        ***********************************-->
        <div class="content-body">
            <!-- row -->
			<div class="container-fluid">
				<div class="row">
					<div class="col-xl-6">
						<div class="row">
							<!-- 销售看板开始   -->
							<div class="col-xl-12">
								<div class="card">
									<div class="card-body">
										<div class="row separate-row">
											<div class="col-sm-6">
												<div class="job-icon pb-4 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0">{{vipQuantity}}</h2>
															<span v-if="vipQuantityY2Y<0" class="text-success ms-3">{{vipQuantityY2Y}}%</span>
															<span v-if="vipQuantityY2Y>0" class="text-danger ms-3">{{vipQuantityY2Y}}%</span>
														</div>	
														<span class="fs-14 d-block mb-2">今日新增会员</span>
													</div>	
													<div id="NewCustomers"></div>
												</div>
											</div>
											<div class="col-sm-6">
												<div class="job-icon pb-4 pt-4 pt-sm-0 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0">{{vipAmount}}</h2>
															<span v-if="vipAmountY2Y<0" class="text-success ms-3">{{vipAmountY2Y}}%</span>
															<span v-if="vipAmountY2Y>0" class="text-danger ms-3">{{vipAmountY2Y}}%</span>
														</div>	
														<span class="fs-14 d-block mb-2">会员销售金额</span>
													</div>	
													<div id="NewCustomers1"></div>
												</div>
											</div>
											<div class="col-sm-6">
												<div class="job-icon pt-4 pb-sm-0 pb-4 pe-3 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0">{{amount}}</h2>
															<span v-if="amountY2Y<0" class="text-success ms-3">{{amountY2Y}}%</span>
															<span v-if="amountY2Y>0" class="text-danger ms-3">{{amountY2Y}}%</span>
														</div>	
														<span class="fs-14 d-block mb-2">今日销售金额</span>
													</div>	
													<div id="NewCustomers2"></div>
												</div>
											</div>
											<div class="col-sm-6">
												<div class="job-icon pt-4  d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0">{{average}}</h2>
															<span v-if="averageY2Y<0" class="text-success ms-3">{{averageY2Y}}%</span>
															<span v-if="averageY2Y>0" class="text-danger ms-3">{{averageY2Y}}%</span>
														</div>	
														<span class="fs-14 d-block mb-2">客单价</span>
													</div>	
													<div id="NewCustomers3"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- 销售看板 结束  -->
							<div class="col-xl-12">
								<div class="card " id="user-activity">
									<div class="card-header border-0 pb-0 flex-wrap">
										<h4 class="fs-20 mb-1">常用功能</h4>
										
									</div>
									<div class="card-body">
										<div class="tab-content">
											<div class="tab-pane fade show active" id="Daily">
												<van-grid :border="false" icon-size="40px">
												  <van-grid-item icon="static/image/库存.svg" text="库存查询" url="./backEnd/shop/stock.html"></van-grid-item>
												  <van-grid-item icon="static/image/擦鞋登记.svg" text="洗鞋登记" url="./backEnd/customer/NursingCenterRegistration.html"></van-grid-item>
												  <van-grid-item icon="static/image/护理管理.svg" text="护理管理" url="./backEnd/customer/NursingCenterManage.html"></van-grid-item>
												  <van-grid-item icon="static/image/智能AI.svg" text="AI助手" url="http://8.222.172.12:1002/"></van-grid-item>
												</van-grid>
											</div>	
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>	
            </div>
        </div>
        <!--**********************************
            	内容正文 结束
        ***********************************-->
		
		
        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright &copy; 2022.深圳市步步高鞋商业有限公司 All rights reserved.</p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->


	</div>
    <!--**********************************
       	主包装器结束
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="static/js/global.min.js"></script>
	<script src="static/js/Chart.bundle.min.js"></script>
	<script src="static/js/jquery.nice-select.min.js"></script>
	
	<script src="static/js/Chart.bundle.min.js"></script>
	
	<!-- Chart piety plugin files -->
    <script src="static/js/jquery.peity.min.js"></script>
	
	<!-- Dashboard 1 -->
	<script src="static/js/dashboard-1.js"></script>
	
	<script src="static/js/owl.carousel.js"></script>
	
    <script src="static/js/custom.min.js"></script>
	<script src="static/js/dlabnav-init.js"></script>
	<script src="static/js/demo.js"></script>
    <script src="static/js/styleSwitcher.js"></script>
    <script src="static/js/customize.js"></script>
    
    <script src="./assets/vue/vue.js"></script>
	<script src="./assets/vant/vant.min.js"></script>
	<script src="./assets/axios/axios.min.js"></script>
	
	<script>			
		const app = Vue.createApp({
			data(){
				return{
					id: "",                       //账号id
					name: "",                     //账号名称
					categoryList: [],             //目录列表
					startDate : new Date(),       //开始日期
					endDate : new Date(),         //结束日期
					vipQuantity : '',             //会员新增数量
					vipAmount : '',               //会员销售额
					amount : '',                  //总金额
					average : '',                 //客单价
					vipQuantityY2Y : '',          //会员新增数量同比
					vipAmountY2Y : '',            //会员销售额同比
					amountY2Y : '',               //总金额同比
					averageY2Y : '',              //客单价同比
				}
			},
			methods:{
				
			},
			mounted(){
				const objApp = this;
				//验证员工是否登录
	    		isLogin(sessionStorage.getItem("id"));
	    		objApp.id = sessionStorage.getItem("id");
	    		objApp.name = sessionStorage.getItem("name");
	    		//获取应用列表
	    		axios.get('/PubgoWeb/category/list/quest')
	    			.then(function (response){
	    				const json = response.data;
	    				if( json.code == 200 ){
	    					objApp.categoryList = json.data.categoryVos; 
	    				}else{
		            		vant.Toast.fail("错误原因: "+json.msg);
				   	        console.error("错误代码: "+json.code+"  错误原因: "+json.msg);	
		            	}
	    			})
	    			.catch(function (error) {
	    				// 请求发送失败
				   	  	vant.Toast.fail("请求发送失败");
				   	    console.error(error);
	    			});
	    		
	    		
				/*****获取销售看板******/
				data = {
		    			"startDate" : objApp.startDate,
		    			"endDate" : objApp.endDate,
		    	};
				//设置json请求头
	    		config = {
    		        	headers: {
    		        		'Content-Type': 'application/json'
    		        	}
    		    };
				axios.post('/PubgoWeb/check/query/kanban', data, config)
	  			  .then(function (response) {
	  				console.log(response);
	  				const json = response.data;
		            	if(json.code == 200)
		            	{
		            		
		            		objApp.vipQuantity = json.data.CurrentKanban.vipQuantity;
		            		objApp.vipAmount = json.data.CurrentKanban.vipAmount;
		            		objApp.amount = json.data.CurrentKanban.amount;
		            		objApp.average = json.data.CurrentKanban.average;
		            		//计算同比
		            		if( json.data.PreviouslyKanban.vipQuantity != 0 ){
		            			objApp.vipQuantityY2Y = ((json.data.CurrentKanban.vipQuantity-json.data.PreviouslyKanban.vipQuantity)
				            			*100/json.data.PreviouslyKanban.vipQuantity).toFixed(0);
		            		}else{
		            			objApp.vipQuantityY2Y='没有去年同期数据';
		            		}
		            		if( json.data.PreviouslyKanban.vipAmount != 0 ){
			            		objApp.vipAmountY2Y = ((json.data.CurrentKanban.vipAmount-json.data.PreviouslyKanban.vipAmount)
			            				*100/json.data.PreviouslyKanban.vipAmount).toFixed(2);
		            		}else{
		            			objApp.vipAmountY2Y='没有去年同期数据';
		            		}
		            		if( json.data.PreviouslyKanban.amount != 0 ){
		            			objApp.amountY2Y = ((json.data.CurrentKanban.amount-json.data.PreviouslyKanban.amount)
			            				*100/json.data.PreviouslyKanban.amount).toFixed(2);
		            		}else{
		            			objApp.amountY2Y='没有去年同期数据';
		            		}
		            		if( json.data.PreviouslyKanban.average != 0 ){
		            			objApp.averageY2Y = ((json.data.CurrentKanban.average-json.data.PreviouslyKanban.average)
			            				*100/json.data.PreviouslyKanban.average).toFixed(0);
		            		}else{
		            			objApp.averageY2Y='没有去年同期数据';
		            		}
		            		
		                }
		            	else
		            	{
		            		vant.Toast.fail("错误原因: "+json.msg);
				   	        console.error("错误代码: "+json.code+"  错误原因: "+json.msg);	
		            	}
	  			  })
	  			  .catch(function (error) {
	  				// 请求发送失败
			   	  	vant.Toast.fail("请求发送失败");
			   	    console.error(error);
	  			  });
	  			/********************/
			}
		});
			
		app.use(vant);
		app.use(vant.Lazyload);
		app.mount('#main-wrapper');
	</script>

</body>
</html>